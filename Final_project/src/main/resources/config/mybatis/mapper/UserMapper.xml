<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="three.user.mapper.UserMapper">
	<insert id="joinUser" parameterType="User">
		<selectKey keyProperty="userNum" resultType="int"
			order="BEFORE">
			select user_seq.nextval from dual
		</selectKey>
		insert into project_user values(#{userNum},#{userId}, #{userPassword},
		#{userName}, #{userNick:VARCHAR}, #{userEmail}, #{userAddr1},
		#{userAddr2}, #{userAddr3}, 0, 100000, #{userBankName:VARCHAR},
		#{userBankAccount:NUMERIC}, #{userBronzeBadge:NUMERIC},
		#{userSilverBadge:NUMERIC}, #{userGoldBadge:NUMERIC})
	</insert>

	<!-- 로그인 -->
	<select id="userLogin" resultType="three.user.model.UserVO">

		select userNum, userId, userPassword, userName, userNick, userEmail,
		userAddr1, userAddr2, userAddr3, adminCk, point, userBankName, userBankAccount,
		userBronzeBadge, userSilverBadge, userGoldBadge
		from project_user where
		userId = #{userId} and userPassword = #{userPassword}

	</select>

</mapper>